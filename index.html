<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./assets/logo.jpg" type="image/x-icon">
    <title>Santi Castillo - Video Game Composer</title>
    <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Courier New', monospace;
            background: linear-gradient(45deg, #2c5aa0, #1e3a5f);
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .desktop {
            width: 100%;
            height: 100vh;
            position: relative;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.15) 0%, transparent 50%);
        }

        .desktop-header {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            color: white;
            z-index: 50;
        }

        .composer-name {
            font-size: 48px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            margin-bottom: 8px;
            letter-spacing: 2px;
        }

        .composer-title {
            font-size: 28px;
            opacity: 0.9;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
            font-weight: normal;
        }

        .logo-container {
            position: absolute;
            top: 20px;
            right: 30px;
            width: 110px;
            height: 110px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
            z-index: 50;
        }

        .logo-placeholder {
            color: rgba(255,255,255,0.7);
            font-size: 12px;
            text-align: center;
            line-height: 1.2;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .logo-image {
            max-width: 100%;
            max-height: 100%;
            filter: none;
            background: #fff;
            border-radius: 6px;
            padding: 4px;
        }

        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40px;
            background: linear-gradient(to bottom, #4a90e2, #2c5aa0);
            border-top: 2px solid #6bb6ff;
            display: flex;
            align-items: center;
            padding: 0 10px;
            z-index: 1000;
        }

        .start-button {
            background: linear-gradient(to bottom, #5cb85c, #449d44);
            border: 2px outset #5cb85c;
            color: white;
            padding: 4px 12px;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
        }

        .time {
            margin-left: auto;
            color: white;
            font-size: 12px;
            background: rgba(0,0,0,0.3);
            padding: 4px 8px;
            border: 1px inset #4a90e2;
        }

        .desktop-icon {
            position: absolute;
            width: 80px;
            height: 90px;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .desktop-icon:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .desktop-icon.selected {
            background-color: rgba(0,100,200,0.3);
            border: 1px dotted white;
        }

        .icon-image {
            width: 48px;
            height: 48px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            border-radius: 8px;
            border: 2px outset #ddd;
        }

        .icon-label {
            color: white;
            font-size: 18px;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
            line-height: 1.2;
        }

        .window {
            position: absolute;
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            min-width: 520px;
            min-height: 380px;
            display: none;
            z-index: 100;
        }

        .window.active {
            display: block;
            z-index: 200;
        }

        .window-header {
            background: linear-gradient(to right, #0066cc, #004499);
            color: white;
            padding: 4px 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            font-size: 12px;
            font-weight: bold;
        }

        .window-controls {
            display: flex;
            gap: 2px;
        }

        .window-button {
            width: 16px;
            height: 14px;
            background: #c0c0c0;
            border: 1px outset #c0c0c0;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
        }

        .window-button:hover {
            background: #e0e0e0;
        }

        .window-content {
            padding: 16px;
            height: calc(100% - 40px);
            overflow-y: auto;
            background: #c0c0c0;
            font-size: 20px;
        }

        .music-player {
            width: 900px;
            height: 600px;
        }

        .player-header {
            background: linear-gradient(to bottom, #f0f0f0, #d0d0d0);
            padding: 8px;
            border-bottom: 1px solid #999;
            display: flex;
            gap: 10px;
        }

        .genre-tab {
            padding: 6px 12px;
            background: #e0e0e0;
            border: 1px outset #e0e0e0;
            cursor: pointer;
            font-size: 11px;
            font-weight: bold;
        }

        .genre-tab.active {
            background: #c0c0c0;
            border: 1px inset #c0c0c0;
        }

        .track-list {
            height: 300px;
            overflow-y: auto;
            background: white;
            border: 1px inset #c0c0c0;
        }

        .track-item {
            padding: 8px 12px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 18px;
        }

        .track-item:hover {
            background: #e6f3ff;
        }

        .track-item.playing {
            background: #cce7ff;
            font-weight: bold;
        }

        .player-controls {
            padding: 12px;
            background: #f0f0f0;
            border-top: 1px solid #999;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-button {
            width: 32px;
            height: 24px;
            background: #e0e0e0;
            border: 1px outset #e0e0e0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .control-button:active {
            border: 1px inset #e0e0e0;
        }

        .progress-bar {
            flex: 1;
            height: 20px;
            background: white;
            border: 1px inset #c0c0c0;
            position: relative;
            margin: 0 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to bottom, #4a90e2, #2c5aa0);
            width: 0%;
            transition: width 0.1s;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 10px;
        }

        .about-window {
            width: 750px;
            height: 600px;
        }

        .about-content {
            text-align: center;
            font-size: 18px;
            line-height: 1.6;
        }

        .profile-image {
            width: 120px;
            height: 120px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: white;
            border: 3px solid #999;
        }

        .contact-window {
            width: 600px;
            height: 450px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-bottom: 1px solid #ddd;
            font-size: 18px;
        }

        .contact-icon {
            width: 24px;
            height: 24px;
            background: #4a90e2;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            font-size: 14px;
        }

        .now-playing {
            font-size: 11px;
            color: #666;
            margin-top: 5px;
        }

        @media (max-width: 600px) {
            body, .desktop {
                min-width: 100vw;
                min-height: 100vh;
                overflow-x: hidden;
            }
            .desktop-header {
                position: static;
                transform: none;
                padding-top: 12px;
                font-size: 14px;
            }
            .composer-name {
                font-size: 28px;
                margin-bottom: 4px;
            }
            .composer-title {
                font-size: 16px;
            }
            .logo-container {
                position: static;
                width: 70px;
                height: 70px;
                margin: 10px auto 0 auto;
            }
            .logo-image {
                max-width: 90%;
                max-height: 90%;
                padding: 2px;
            }
            .desktop-icon {
                position: static !important;
                width: 60px;
                height: 70px;
                margin: 10px 8px;
                padding: 6px;
                font-size: 12px;
                flex-direction: column;
                display: inline-flex;
            }
            .icon-image {
                width: 32px;
                height: 32px;
                font-size: 18px;
                margin-bottom: 4px;
            }
            .icon-label {
                font-size: 12px;
            }
            .window {
                min-width: 90vw;
                min-height: 60vh;
                width: 96vw !important;
                height: 80vh !important;
                left: 2vw !important;
                top: 10vh !important;
                font-size: 14px;
                padding: 0;
            }
            .window-header {
                font-size: 10px;
                padding: 4px 4px;
            }
            .window-content {
                padding: 8px;
                font-size: 14px;
                height: calc(100% - 32px);
            }
            .music-player,
            .about-window,
            .contact-window,
            #portfolioWindow {
                width: 96vw !important;
                height: 80vh !important;
                left: 2vw !important;
                top: 10vh !important;
                min-width: unset;
                min-height: unset;
            }
            .player-header {
                gap: 4px;
                padding: 4px;
                font-size: 10px;
            }
            .genre-tab {
                font-size: 10px;
                padding: 4px 6px;
            }
            .track-list {
                height: 120px;
                font-size: 12px;
            }
            .track-item {
                font-size: 12px;
                padding: 6px 6px;
            }
            .player-controls {
                gap: 4px;
                padding: 6px;
                font-size: 10px;
            }
            .control-button {
                width: 24px;
                height: 18px;
                font-size: 10px;
            }
            .progress-bar {
                height: 12px;
                margin: 0 4px;
            }
            .volume-control {
                font-size: 10px;
                width: 60px;
            }
            .about-content {
                font-size: 13px;
            }
            .profile-image {
                width: 70px;
                height: 70px;
                font-size: 24px;
                margin-bottom: 10px;
            }
            .contact-item {
                font-size: 13px;
                gap: 6px;
                padding: 6px;
            }
            .contact-icon {
                width: 18px;
                height: 18px;
                font-size: 10px;
            }
            #portfolioWindow .window-content > div {
                grid-template-columns: 1fr !important;
                gap: 8px !important;
                font-size: 10px !important;
            }
            #portfolioWindow h4 {
                font-size: 13px !important;
            }
            #portfolioWindow p {
                font-size: 10px !important;
            }
            .taskbar {
                height: 32px;
                font-size: 10px;
                padding: 0 4px;
            }
            .start-button {
                font-size: 10px;
                padding: 2px 6px;
            }
            .time {
                font-size: 10px;
                padding: 2px 4px;
            }
        }
    </style>
</head>
<body>
    <div class="desktop" id="desktop">
        <!-- Header con nombre y logo -->
        <div class="desktop-header">
            <div class="composer-name">SANTI CASTILLO</div>
            <div class="composer-title">Video Game Composer</div>
        </div>
        
        <!-- Contenedor del logo -->
        <div class="logo-container">
            <img src="./assets/logo.jpg" alt="Santi Castillo Logo" class="logo-image">
        </div>

        <!-- Iconos del escritorio -->
        <div class="desktop-icon" style="top: 120px; left: 50px;" onclick="openWindow('musicPlayer')">
            <div class="icon-image">🎵</div>
            <div class="icon-label">Music Player</div>
        </div>

        <div class="desktop-icon" style="top: 120px; left: 180px;" onclick="openWindow('aboutWindow')">
            <div class="icon-image">👤</div>
            <div class="icon-label">About Santi</div>
        </div>

        <div class="desktop-icon" style="top: 120px; left: 310px;" onclick="openWindow('contactWindow')">
            <div class="icon-image">📧</div>
            <div class="icon-label">Contact</div>
        </div>

        <div class="desktop-icon" style="top: 250px; left: 50px;" onclick="openWindow('portfolioWindow')">
            <div class="icon-image">🎮</div>
            <div class="icon-label">Game Projects</div>
        </div>

        <!-- Ventana del reproductor de música -->
        <div class="window music-player" id="musicPlayer" style="top: 100px; left: 200px;">
            <div class="window-header">
                <span>🎵 Santi Castillo Music Player</span>
                <div class="window-controls">
                    <div class="window-button" onclick="minimizeWindow('musicPlayer')">_</div>
                    <div class="window-button" onclick="closeWindow('musicPlayer')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="player-header">
                    <div class="genre-tab active" onclick="switchGenre('electronic')">Electronic</div>
                    <div class="genre-tab" onclick="switchGenre('orchestral')">Orchestral</div>
                </div>
                
                <div class="track-list" id="trackList">
                    <!-- Las canciones se cargarán aquí -->
                </div>
                
                <div class="player-controls">
                    <div class="control-button" onclick="previousTrack()">⏮</div>
                    <div class="control-button" onclick="togglePlay()" id="playButton">▶</div>
                    <div class="control-button" onclick="nextTrack()">⏭</div>
                    <div class="progress-bar" onclick="seekTrack(event)">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="volume-control">
                        🔊 <input type="range" min="0" max="100" value="70" style="width: 80px;" id="volumeSlider">
                    </div>
                </div>
                <div class="now-playing" id="nowPlaying">Selecciona una canción para reproducir</div>
                <audio id="audioPlayer" style="display:none;"></audio>
            </div>
        </div>

        <!-- Ventana About -->
        <div class="window about-window" id="aboutWindow" style="top: 150px; left: 300px;">
            <div class="window-header">
                <span>👤 About Santi Castillo</span>
                <div class="window-controls">
                    <div class="window-button" onclick="minimizeWindow('aboutWindow')">_</div>
                    <div class="window-button" onclick="closeWindow('aboutWindow')">×</div>
                </div>
            </div>
            <div class="window-content about-content">
                <img src="./assets/profile.jpg" alt="Santi Castillo" class="profile-image">
                <h2 style="margin: 0 0 10px 0; color: #333;">Santi Castillo</h2>
                <h3 style="margin: 0 0 20px 0; color: #666; font-weight: normal;">Video Game Composer</h3>
                <p>Soy Santi Castillo, tengo 25 años y nací en Buenos Aires, Argentina. Empecé en el mundo de la música hace más de 10 años, período en el que me dediqué a practicar y estudiar música. Desde hace más de dos años, me dedico exclusivamente a componer para videojuegos.</p>
                <p>Durante estos años, trabajé con diversos clientes de todo el mundo, completando al rededor de 100 proyectos y más de 200 canciones.</p>
                <p><strong>Mis habilidades se centran en componer música desde cero, ya sea partiendo de una referencia proporcionada por el cliente o simplemente a partir de una descripción de los sentimientos que quiere evocar. Me encargo de todos los aspectos del proyecto, desde la composición y grabación hasta la producción, mezcla y masterización, entregando un producto listo para ser utilizado.</strong><br>

            </div>
        </div>

        <!-- Ventana Contact -->
        <div class="window contact-window" id="contactWindow" style="top: 200px; left: 400px;">
            <div class="window-header">
                <span>📧 Contact Information</span>
                <div class="window-controls">
                    <div class="window-button" onclick="minimizeWindow('contactWindow')">_</div>
                    <div class="window-button" onclick="closeWindow('contactWindow')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="contact-item">
                    <div class="contact-icon">📧</div>
                    <div>
                        <strong>Email:</strong><br>
                        santi.castillo.composer@gmail.com
                    </div>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">🎵</div>
                    <div>
                        <strong>SoundCloud:</strong><br>
                        soundcloud.com/santicastillo
                    </div>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">💼</div>
                    <div>
                        <strong>LinkedIn:</strong><br>
                        linkedin.com/in/santicastillo
                    </div>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">🐦</div>
                    <div>
                        <strong>Twitter:</strong><br>
                        @SantiCastilloMusic
                    </div>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">🎮</div>
                    <div>
                        <strong>Discord:</strong><br>
                        SantiComposer#1234
                    </div>
                </div>
            </div>
        </div>

        <!-- Ventana Portfolio -->
        <div class="window" id="portfolioWindow" style="top: 120px; left: 250px; width: 850px; height: 600px;">
            <div class="window-header">
                <span>🎮 Game Projects Portfolio</span>
                <div class="window-controls">
                    <div class="window-button" onclick="minimizeWindow('portfolioWindow')">_</div>
                    <div class="window-button" onclick="closeWindow('portfolioWindow')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-size: 12px;">
                    <div style="border: 1px solid #999; padding: 10px; background: white;">
                        <h4 style="margin: 0 0 8px 0; color: #0066cc;">🚀 Space Odyssey</h4>
                        <p style="margin: 0 0 8px 0; font-size: 11px;">Sci-fi adventure game</p>
                        <p style="margin: 0; font-size: 10px; color: #666;">Orchestral soundtrack with electronic elements. 45 minutes of original music including dynamic combat themes and ambient exploration tracks.</p>
                    </div>
                    <div style="border: 1px solid #999; padding: 10px; background: white;">
                        <h4 style="margin: 0 0 8px 0; color: #0066cc;">🏰 Medieval Legends</h4>
                        <p style="margin: 0 0 8px 0; font-size: 11px;">Fantasy RPG</p>
                        <p style="margin: 0; font-size: 10px; color: #666;">Epic orchestral score featuring medieval instruments. Character themes, battle music, and atmospheric pieces for different kingdoms.</p>
                    </div>
                    <div style="border: 1px solid #999; padding: 10px; background: white;">
                        <h4 style="margin: 0 0 8px 0; color: #0066cc;">🤖 Neon Runner</h4>
                        <p style="margin: 0 0 8px 0; font-size: 11px;">Cyberpunk platformer</p>
                        <p style="margin: 0; font-size: 10px; color: #666;">Synthwave and electronic soundtrack. High-energy tracks for fast-paced gameplay with retro-futuristic aesthetics.</p>
                    </div>
                    <div style="border: 1px solid #999; padding: 10px; background: white;">
                        <h4 style="margin: 0 0 8px 0; color: #0066cc;">🌊 Ocean Depths</h4>
                        <p style="margin: 0 0 8px 0; font-size: 11px;">Underwater exploration</p>
                        <p style="margin: 0; font-size: 10px; color: #666;">Ambient and atmospheric compositions. Mysterious underwater soundscapes with dynamic music that responds to depth levels.</p>
                    </div>
                </div>
                <div style="margin-top: 20px; padding: 10px; background: #f0f0f0; border: 1px inset #c0c0c0;">
                    <p style="margin: 0; font-size: 11px; text-align: center; color: #666;">
                        <strong>¿Interesado en colaborar?</strong><br>
                        Siempre estoy buscando nuevos proyectos emocionantes. ¡Contacta conmigo para discutir tu próximo juego!
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Barra de tareas -->
    <div class="taskbar">
        <div class="start-button">Inicio</div>
        <div class="time" id="clock"></div>
    </div>

    <script>
        // Datos de las canciones con rutas reales
        const musicData = {
            electronic: [
                { title: "Nature Fury", duration: "2:02", game: "The Lost City", file: "./assets/music/electornic/naturefury.mp3" }
            ],
            orchestral: [
                { title: "Desert", duration: "1:39", game: "Builds N' Guilds", file: "./assets/music/orchestal/desert.mp3" }
            ]
        };

        let currentGenre = 'electronic';
        let currentTrack = 0;
        let isPlaying = false;
        let progress = 0;
        let progressInterval;
        const audioPlayer = document.getElementById('audioPlayer');
        const volumeSlider = document.getElementById('volumeSlider');

        // Funciones de ventanas
        function openWindow(windowId) {
            const window = document.getElementById(windowId);
            window.classList.add('active');
            bringToFront(window);
        }

        function closeWindow(windowId) {
            document.getElementById(windowId).classList.remove('active');
            stopPlayback();
        }

        function minimizeWindow(windowId) {
            document.getElementById(windowId).classList.remove('active');
            stopPlayback();
        }

        function bringToFront(window) {
            const windows = document.querySelectorAll('.window');
            windows.forEach(w => w.style.zIndex = '100');
            window.style.zIndex = '200';
        }

        // Funciones del reproductor de música
        function switchGenre(genre) {
            currentGenre = genre;
            currentTrack = 0;
            document.querySelectorAll('.genre-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            loadTrackList();
            stopPlayback();
        }

        function loadTrackList() {
            const trackList = document.getElementById('trackList');
            const tracks = musicData[currentGenre];
            trackList.innerHTML = tracks.map((track, index) => `
                <div class="track-item ${index === currentTrack ? 'playing' : ''}" onclick="selectTrack(${index})">
                    <div>
                        <div style="font-weight: bold;">${track.title}</div>
                        <div style="font-size: 12px; color: #666;">${track.game}</div>
                    </div>
                    <div>${track.duration}</div>
                </div>
            `).join('');
        }

        function selectTrack(index) {
            currentTrack = index;
            loadTrackList();
            updateNowPlaying();
            loadAudio();
            if (isPlaying) {
                startPlayback();
            }
        }

        function loadAudio() {
            const track = musicData[currentGenre][currentTrack];
            audioPlayer.src = track.file;
            audioPlayer.load();
            audioPlayer.currentTime = 0;
            progress = 0;
            document.getElementById('progressFill').style.width = '0%';
        }

        function togglePlay() {
            if (isPlaying) {
                stopPlayback();
            } else {
                startPlayback();
            }
        }

        function startPlayback() {
            if (!audioPlayer.src) loadAudio();
            isPlaying = true;
            document.getElementById('playButton').textContent = '⏸';
            updateNowPlaying();
            audioPlayer.play();
            progressInterval = setInterval(updateProgressBar, 200);
        }

        function stopPlayback() {
            isPlaying = false;
            document.getElementById('playButton').textContent = '▶';
            clearInterval(progressInterval);
            audioPlayer.pause();
            document.getElementById('progressFill').style.width = '0%';
        }

        function nextTrack() {
            const tracks = musicData[currentGenre];
            currentTrack = (currentTrack + 1) % tracks.length;
            loadTrackList();
            loadAudio();
            if (isPlaying) {
                startPlayback();
            }
        }

        function previousTrack() {
            const tracks = musicData[currentGenre];
            currentTrack = currentTrack > 0 ? currentTrack - 1 : tracks.length - 1;
            loadTrackList();
            loadAudio();
            if (isPlaying) {
                startPlayback();
            }
        }

        function seekTrack(event) {
            const progressBar = event.currentTarget;
            const rect = progressBar.getBoundingClientRect();
            const clickX = event.clientX - rect.left;
            const percent = (clickX / rect.width);
            if (audioPlayer.duration) {
                audioPlayer.currentTime = percent * audioPlayer.duration;
            }
        }

        function updateProgressBar() {
            if (audioPlayer.duration) {
                const percent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                document.getElementById('progressFill').style.width = percent + '%';
                if (audioPlayer.ended) {
                    nextTrack();
                }
            }
        }

        function updateNowPlaying() {
            const track = musicData[currentGenre][currentTrack];
            document.getElementById('nowPlaying').textContent =
                `Reproduciendo: ${track.title} - ${track.game}`;
        }

        // Volumen
        volumeSlider.addEventListener('input', function() {
            audioPlayer.volume = this.value / 100;
        });

        // Reloj en la barra de tareas
        function updateClock() {
            const now = new Date();
            const time = now.toLocaleTimeString('es-ES', {
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('clock').textContent = time;
        }

        // Hacer ventanas arrastrables
        function makeDraggable() {
            const windows = document.querySelectorAll('.window');
            windows.forEach(window => {
                const header = window.querySelector('.window-header');
                let isDragging = false;
                let currentX;
                let currentY;
                let initialX;
                let initialY;
                let xOffset = 0;
                let yOffset = 0;

                header.addEventListener('mousedown', dragStart);
                document.addEventListener('mousemove', drag);
                document.addEventListener('mouseup', dragEnd);

                function dragStart(e) {
                    if (e.target.classList.contains('window-button')) return;
                    initialX = e.clientX - xOffset;
                    initialY = e.clientY - yOffset;
                    if (e.target === header) {
                        isDragging = true;
                        bringToFront(window);
                    }
                }

                function drag(e) {
                    if (isDragging) {
                        e.preventDefault();
                        currentX = e.clientX - initialX;
                        currentY = e.clientY - initialY;
                        xOffset = currentX;
                        yOffset = currentY;
                        window.style.transform = `translate(${currentX}px, ${currentY}px)`;
                    }
                }

                function dragEnd() {
                    initialX = currentX;
                    initialY = currentY;
                    isDragging = false;
                }
            });
        }

        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            loadTrackList();
            updateClock();
            setInterval(updateClock, 1000);
            makeDraggable();
            loadAudio();
        });

        // Selección de iconos
        document.querySelectorAll('.desktop-icon').forEach(icon => {
            icon.addEventListener('click', function() {
                document.querySelectorAll('.desktop-icon').forEach(i => i.classList.remove('selected'));
                this.classList.add('selected');
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'987660d8d78ee9b6',t:'MTc1OTI2MzE3OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
